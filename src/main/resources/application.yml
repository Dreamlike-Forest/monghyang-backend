spring:
  session:
    timeout: 2h
    redis:
      namespace: spring:session
      flush-mode: on_save
      save-mode: on_set_attribute
  jackson:
    mapper:
      accept-case-insensitive-enums: true # enum 대소문자 구분없이 매핑
    serialization:
      write-dates-as-timestamps: false
  servlet:
    multipart:
      max-file-size: 50MB # 한 요청 당 최대 50MB의 파일에 대해서만 업로드를 허용한다.
      max-request-size: 50MB
  security:
    oauth2:
      client:
        registration:
          google:
            client-id: ${GOOGLE_OAUTH2_ID}
            client-secret: ${GOOGLE_OAUTH2_SECRET}
            scope:
              - profile
              - email
            redirect-uri: "{baseUrl}/oauth2/code/{registrationId}" # google oauth2 인증코드를 받게 될 리다이렉션 url
  profiles:
    include: oauth
    active: local # 기본 프로파일: local (로컬 테스트 개발용: local, FE팀 로컬 테스트용: dev, 운영용: prod)
  data:
    redis:
      host: ${REDIS_HOST}
      port: ${REDIS_PORT}
      timeout: 6s
      lettuce:
        pool:
          max-active: 10 # 최대 redis 커넥션 개수
          max-idle: 5 # 유휴 커넥션 최대 개수
          min-idle: 1 # 유휴 커넥션 최소 개수
      username: ${REDIS_USERNAME} # redis 유저네임
      password: ${REDIS_PASSWORD} # redis 유저 비밀번호
  flyway:
    enabled: true
    locations: classpath:db/migration
    baseline-on-migrate: true        # 기존 스키마를 baseline 처리
    baseline-version: 1              # 현재 상태를 V1로 본다
    baseline-description: "Initial RDS schema (before Flyway)"
# JWT 관련 설정
jwt:
  refresh-secret: ${JWT_REFRESH_SECRET_KEY} # JWT REFRESH 토큰 생성에 사용되는 비밀키
  refresh-expiration: 28d       # 리프레시 토큰 만료시간 (7 days)
server:
  tomcat:
    max-part-count: 25 # multipart 요청의 최대 가능 필드 수
    max-parameter-count: 100 # 요청에 담긴 파라메터 최대 수 제한